<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UCSC Rocket Team</title>

    <link rel="preconnect" href="https://fonts.cdnfonts.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="dns-prefetch" href="https://fonts.cdnfonts.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">

    <meta name="theme-color" content="#0a0a0a">

    <link rel="stylesheet" href="styles.css">
    <link
      rel="preload"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    >
    <noscript><link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
      ></noscript>

    <link
      rel="preload"
      href="https://fonts.cdnfonts.com/css/aileron"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    >
    <noscript><link
        rel="stylesheet"
        href="https://fonts.cdnfonts.com/css/aileron"
      ></noscript>

    <link rel="manifest" href="manifest.json">
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="favicons/apple-touch-icon.png"
    >
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="favicons/favicon-32x32.png"
    >
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="favicons/favicon-16x16.png"
    >
  </head>
  <body>
    <div class="background"></div>

    <main>
      <img src="rocket-team-logo.png" alt="Rocket Team Logo" class="logo">

      <div class="links-container">
        <div class="icon-row" aria-label="Social links">
          <a
            class="icon-btn"
            href="https://www.instagram.com/ucscrocketry/"
            target="_blank"
            aria-label="Instagram"
          >
            <i class="fa-brands fa-instagram" aria-hidden="true"></i>
          </a>
          <a
            class="icon-btn"
            href="https://www.linkedin.com/school/ucscrocketteam"
            target="_blank"
            aria-label="LinkedIn"
          >
            <i class="fa-brands fa-linkedin-in" aria-hidden="true"></i>
          </a>
          <a
            class="icon-btn"
            href="mailto:rockets@ucsc.edu"
            target="_blank"
            aria-label="Email"
          >
            <i class="fa-solid fa-envelope" aria-hidden="true"></i>
          </a>
          <a
            class="icon-btn"
            href="https://www.youtube.com/@UCSCRocketTeam"
            target="_blank"
            aria-label="YouTube"
          >
            <i class="fa-brands fa-youtube" aria-hidden="true"></i>
          </a>
        </div>

        <nav class="links">
          <a href="https://soundingrocket.org" target="_blank">
            <i class="fa-solid fa-rocket"></i> IREC 2025-2026</a>
          <a href="https://ucscrocketry.org" target="_blank">
            <i class="fa-solid fa-globe"></i> Website</a>
          <a
            href="https://calendar.google.com/calendar/u/0?cid=..."
            target="_blank"
          >
            <i class="fa-solid fa-calendar"></i> Calendar</a>
          <a href="https://slack.ucscrocketry.org" target="_blank">
            <i class="fa-brands fa-slack"></i> Slack</a>
          <a href="https://ucscrocketry.notion.site/..." target="_blank">
            <i class="fa-brands fa-notion"></i> Notion</a>
          <a href="#" id="qr-toggle">
            <i class="fa-solid fa-qrcode"></i> QR Code
          </a>
        </nav>
      </div>

      <div id="qr-modal">
        <div class="qr-content">
          <p class="qr-link-text" id="qr-link"></p>
          <div id="qrcode"></div>
          <p class="qr-instruction">Click anywhere to hide</p>
        </div>
      </div>
    </main>

    <script src="script.js" defer></script>
    <script src="qrcode.js" defer></script>
    <script defer>
      const qrModal = document.getElementById("qr-modal");
      const qrContainer = document.getElementById("qrcode");
      const qrLinkText = document.getElementById("qr-link");

      qrLinkText.textContent = location.href;
      new QRCode(qrContainer, {
        text: location.href,
        width: 300,
        height: 300,
        correctLevel: QRCode.CorrectLevel.H,
      });

      let touchHandled = false;
      function showModal(e) {
        e.preventDefault();
        e.stopPropagation();
        qrModal.classList.add("active");
      }

      document.getElementById("qr-toggle").addEventListener(
        "touchend",
        function (e) {
          touchHandled = true;
          showModal(e);
          setTimeout(() => touchHandled = false, 500);
        },
      );

      document.getElementById("qr-toggle").addEventListener(
        "click",
        function (e) {
          if (!touchHandled) showModal(e);
        },
      );

      qrModal.addEventListener("click", (e) => {
        if (e.target === qrModal) qrModal.classList.remove("active");
      });
    </script>
  </body>
</html>
